{"version":3,"sources":["../scripts/utils.js"],"names":["window","hermesApp","MaterialUtils","element","jQuery","MaterialSwitch","checkDisabled","checkToggleState","drawerObfuscator","$","hasClass","click","value","parentElement","MaterialTextfield","boundUpdateClassesHandler","componentHandler","upgradeElements","get","upgradeDom","offset","resolver","Deferred","mdlLayoutElement","scroll","innerHeight","scrollTop","prop","console","log","unbind","resolve","promise"],"mappings":"AAAA,a;;AAEAA,OAAOC,SAAP,GAAmBD,OAAOC,SAAP,IAAoB,EAAvC;;AAEA;;;AAGAA,UAAUC,aAAV;;AAEE;;qJAFF;AAK4BC,WAL5B,EAKqC;AACjC,UAAIA,mBAAmBC,MAAvB,EAA+B;AAC7BD,kBAAUA,QAAQ,CAAR,CAAV;AACD;AACD,UAAIA,QAAQE,cAAZ,EAA4B;AAC1BF,gBAAQE,cAAR,CAAuBC,aAAvB;AACAH,gBAAQE,cAAR,CAAuBE,gBAAvB;AACD;AACF;;AAED;;SAfF;AAkBuB;AACnB,UAAMC,mBAAmBC,EAAE,yBAAF,CAAzB;AACA,UAAID,iBAAiBE,QAAjB,CAA0B,YAA1B,CAAJ,EAA6C;AAC3CF,yBAAiBG,KAAjB;AACD;AACF;;AAED;;SAzBF;AA4BwBR,WA5BxB,EA4BiC;AAC7BA,cAAQS,KAAR,GAAgB,EAAhB;AACAT,cAAQU,aAAR,CAAsBC,iBAAtB,CAAwCC,yBAAxC;AACD;;AAED;;SAjCF;AAoC2BZ,WApC3B,EAoCoC;AAChCa,uBAAiBC,eAAjB,CAAiCR,EAAE,gBAAF,EAAoBN,OAApB,EAA6Be,GAA7B,EAAjC;AACD;;AAED;;SAxCF;AA2C0Bf,WA3C1B,EA2CmC;AAC/B,UAAIA,OAAJ,EAAa;AACXa,yBAAiBC,eAAjB,CAAiCR,EAAE,gBAAF,EAAoBN,OAApB,EAA6Be,GAA7B,EAAjC;AACAF,yBAAiBC,eAAjB,CAAiCR,EAAE,cAAF,EAAkBN,OAAlB,EAA2Be,GAA3B,EAAjC;AACD,OAHD,MAGO;AACLF,yBAAiBG,UAAjB;AACD;AACF;;AAED;;;;;SApDF;AA0DiC,SAAZC,MAAY,uEAAH,CAAG;AAC7B,UAAMC,WAAW,IAAIZ,EAAEa,QAAN,EAAjB;AACA,UAAMC,mBAAmBd,EAAE,aAAF,CAAzB;AACAc,uBAAiBC,MAAjB,CAAwB,YAAM;AAC5B,YAAKxB,OAAOyB,WAAP,GAAqBF,iBAAiBG,SAAjB,EAArB,GAAoDN,MAArD;AACAG,yBAAiBI,IAAjB,CAAsB,cAAtB,CADJ,EAC2C;AACzCC,kBAAQC,GAAR,CAAY,qBAAZ;AACAN,2BAAiBO,MAAjB,CAAwB,QAAxB;AACAT,mBAASU,OAAT;AACD;AACF,OAPD;AAQAH,cAAQC,GAAR,CAAY,8BAAZ;AACA,aAAOR,SAASW,OAAT,EAAP;AACD;;AAED;;SAzEF;AA4E4B;AACxB,UAAMT,mBAAmBd,EAAE,aAAF,CAAzB;AACAc,uBAAiBO,MAAjB,CAAwB,QAAxB;AACD,KA/EH","file":"utils.js","sourcesContent":["'use strict';\n\nwindow.hermesApp = window.hermesApp || {};\n\n/**\n * Set of utilities to handle Material Design Lite elements.\n */\nhermesApp.MaterialUtils = class {\n\n  /**\n   * Refreshes the UI state of the given Material Design Checkbox / Switch element.\n   */\n  static refreshSwitchState(element) {\n    if (element instanceof jQuery) {\n      element = element[0];\n    }\n    if (element.MaterialSwitch) {\n      element.MaterialSwitch.checkDisabled();\n      element.MaterialSwitch.checkToggleState();\n    }\n  }\n\n  /**\n   * Closes the drawer if it is open.\n   */\n  static closeDrawer() {\n    const drawerObfuscator = $('.mdl-layout__obfuscator');\n    if (drawerObfuscator.hasClass('is-visible')) {\n      drawerObfuscator.click();\n    }\n  }\n\n  /**\n   * Clears the given Material Text Field.\n   */\n  static clearTextField(element) {\n    element.value = '';\n    element.parentElement.MaterialTextfield.boundUpdateClassesHandler();\n  }\n\n  /**\n   * Upgrades the text fields in the element.\n   */\n  static upgradeTextFields(element) {\n    componentHandler.upgradeElements($('.mdl-textfield', element).get());\n  }\n\n  /**\n   * Upgrades the dropdowns in the element.\n   */\n  static upgradeDropdowns(element) {\n    if (element) {\n      componentHandler.upgradeElements($('.mdl-js-button', element).get());\n      componentHandler.upgradeElements($('.mdl-js-menu', element).get());\n    } else {\n      componentHandler.upgradeDom();\n    }\n  }\n\n  /**\n   * Returns a Promise which resolves when the user has reached the bottom of the page while\n   * scrolling.\n   * If an `offset` is specified the promise will resolve before reaching the bottom of\n   * the page by the given amount offset in pixels.\n   */\n  static onEndScroll(offset = 0) {\n    const resolver = new $.Deferred();\n    const mdlLayoutElement = $('.mdl-layout');\n    mdlLayoutElement.scroll(() => {\n      if ((window.innerHeight + mdlLayoutElement.scrollTop() + offset) >=\n          mdlLayoutElement.prop('scrollHeight')) {\n        console.log('Scroll End Reached!');\n        mdlLayoutElement.unbind('scroll');\n        resolver.resolve();\n      }\n    });\n    console.log('Now watching for Scroll End.');\n    return resolver.promise();\n  }\n\n  /**\n   * Stops scroll listeners.\n   */\n  static stopOnEndScrolls() {\n    const mdlLayoutElement = $('.mdl-layout');\n    mdlLayoutElement.unbind('scroll');\n  }\n};\n"]}